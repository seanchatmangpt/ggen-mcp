PREFIX ggen: <https://ggen-mcp.dev/domain#>
PREFIX mcp: <https://mcp.dev/schema#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

# Extract MCP tool definitions with their parameters and response types
SELECT DISTINCT
  ?tool
  ?toolName
  ?toolDescription
  ?isEnabled
  ?requiresFeature
  ?responseType
  ?paramUri
  ?paramName
  ?paramType
  ?paramRequired
  ?paramDescription
  ?paramOrder
  ?paramAlias
  ?paramDefault
WHERE {
  ?tool a mcp:Tool ;
        mcp:toolName ?toolName ;
        mcp:toolDescription ?toolDescription .

  OPTIONAL { ?tool mcp:isEnabled ?isEnabled }
  OPTIONAL { ?tool mcp:requiresFeature ?requiresFeature }

  # Get response type
  OPTIONAL {
    ?tool mcp:returnsResponse ?responseTypeUri .
    ?responseTypeUri mcp:responseType ?responseType .
  }

  # Get parameters
  OPTIONAL {
    ?tool mcp:hasParam ?paramUri .
    ?paramUri mcp:paramName ?paramName ;
             mcp:paramType ?paramType .
    OPTIONAL { ?paramUri mcp:paramRequired ?paramRequired }
    OPTIONAL { ?paramUri mcp:paramDescription ?paramDescription }
    OPTIONAL { ?paramUri mcp:paramOrder ?paramOrder }
    OPTIONAL { ?paramUri mcp:paramAlias ?paramAlias }
    OPTIONAL { ?paramUri mcp:paramDefault ?paramDefault }
  }
}
ORDER BY ?toolName ?paramOrder ?paramName
LIMIT 10000